<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Content production planning calculator</title>
    <link rel="stylesheet" type="text/css" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Nunito">
    <link rel="stylesheet" type="text/css" href="content-production-calculator.css">

	   <script>
	   	//The (estimated) hours actually worked in one working day
      hoursPerDay = 6;

      function calculatorVariables() {
        //Calcuate effort required to produce target number of pages on a project
	   		var targetPages = document.getElementById("targetPagesValue").value;
	   		var effortPerPageHours = document.getElementById("effortPerPageHoursValue").value;
	   		totalEffortHours = (effortPerPageHours * targetPages);			  
			  var totalEffortDays = totalEffortHours / hoursPerDay;
					if (totalEffortDays > 0) {
						document.getElementById("totalEffortDays").innerHTML = totalEffortDays.toFixed(1);
					}	else {
						document.getElementById("totalEffortDays").innerHTML = 0;
					}

        //Calcuate working days in the content production phase
        var startDate = new Date (document.getElementById("startDateValue").value);
        var endDate = new Date (document.getElementById("endDateValue").value);

        // Calculate days between dates
        var millisecondsPerDay = 86400 * 1000; // Day in milliseconds
        startDate.setHours(0,0,0,1);  // Start just after midnight
        endDate.setHours(23,59,59,999);  // End just before midnight
        var diff = endDate - startDate;  // Milliseconds between datetime objects    
        days = Math.ceil(diff / millisecondsPerDay);    

        // Subtract two weekend days for every week in between
        var weeks = Math.floor(days / 7);
        days = days - (weeks * 2);

        // Populate template with working days       
          if (days > 0) {
            document.getElementById("diffDays").innerHTML = days;
          } else {
            document.getElementById("diffDays").innerHTML = 0;
          }

       // Calculate how many writers are required to produce the required number of pages during the defined production period
          var availableHours = days * hoursPerDay;
          var requiredWriters = totalEffortHours / availableHours;
          // Populate template with number of required writers
          if (requiredWriters > 0) {
            document.getElementById("requiredWriters").innerHTML = requiredWriters.toFixed(1);
          } else {
            document.getElementById("requiredWriters").innerHTML = 0;
          }
      }     
    </script>


   </head>

   <body>
    <h1>Content Production Calculator<h1>
    <div class="row" id="calcHeader">
        <div class="col-md-12">
             <h2 class="calcHeading">How many writers do we need for our website project?</h2>
        </div>
    </div>

    <!-- REQUIRED TOTAL EFFORT FEATURE -->
    <div class="row calcBody">
      <div class="col-md-6 col-md-offset-3">
        <h3>How many pages on your new site?</h3>

   		<form id="totalEffort" onsubmit="return false;">
    			<input type="text" id="targetPagesValue" onchange="calculatorVariables();" /> pages<br />
            	<p>It can be hard to say, but start thinking about the scale of your content challenge so you don’t underestimate the effort and delay your project.</p>
            	<p><strong>Tip:</strong> 10 pages - A small business “brochure” site, 50 pages - A high-school web site, 100 pages - A national charity website, 500 pages - A corporate Intranet, 1000 pages - A university or council web site.</p>

            <h3>How much effort to write each page?</h3>
  	
    		<input type="text" id="effortPerPageHoursValue" onchange="calculatorVariables();"/> hours<br />
    			<p>How many hours do you think it will take for a writer to produce a typical page for your new site?</p>
        		<p><strong>Tip:</strong> 3 Hours - We're migrating pages from our existing site with minimal updates and edits. 8 Hours - We need to (re)write pages from scratch</p>

      </form>
      </div>
    </div>


    <div class="row calcBody">
      <div class="col-md-6 col-md-offset-3 subTotalBox">
     		<p class="subTotalLabel"><span id="totalEffortDays" class="subTotalText">0</span> days required to write pages</p>
      </div>
    </div>

      <!-- PRODUCTION PERIOD FEATURE -->
      <div class="row calcBody">
        <div class="col-md-6 col-md-offset-3">
         <h3>Production period</h3>
          <p>When do you expect to start and end the content production phase?</p>
        </div>
      </div>
      
      <div class="row calcBody">
        <div class="col-md-3 col-md-offset-3">
          <form id="productionPeriod" onsubmit="return false;">
            <h4>Start date:</h4> 
              <input type="date" id="startDateValue" onchange="calculatorVariables()"/><br />
          </form>
        </div>
        <div class="col-md-3 col-md-offset-0">  
          <form id="productionPeriod" onsubmit="return false;">
            <h4>End date:</h4>
              <input type="date" id="endDateValue" onchange="calculatorVariables()"/><br />
          </form>
        </div>
      </div>

      <div class="row calcBody">
        <div class="col-md-6 col-md-offset-3 subTotalBox">
          <p class="subTotalLabel"><span id="diffDays" class="subTotalText">0</span> working days</p>
        </div>
      </div>

      <!-- WRITERS REQUIRED FEATURE -->
      <div id="calcFooter" class="row">
        <div class="col-md-6 col-md-offset-3 subTotalBox">
          <p class="subTotalLabel"><span id="requiredWriters" class="subTotalText">0</span> FULL TIME WRITER/S</p>
        </div>
      </div>


   </body>
</html>