<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Content production planning calculator</title>

	   <script>
	   	function calculatorVariables() {
	   		var targetPages = document.getElementById("targetPagesValue").value;
	   		var effortPerPageHours = document.getElementById("effortPerPageHoursValue").value;
	   		var totalEffortHours = (effortPerPageHours * targetPages);
			  var hoursPerDay = 6;
			  var totalEffortDays = totalEffortHours / hoursPerDay;
					if (totalEffortDays > 0) {
						document.getElementById("totalEffortDays").innerHTML = totalEffortDays.toFixed(1);
					}	else {
						document.getElementById("totalEffortDays").innerHTML = 0;
					}

 //         var startDate = new Date (document.getElementById("startDateValue").value);
 //         var endDate = new Date (document.getElementById("endDateValue").value);
 //         var oneDay = 24*60*60*1000; // hours*minutes*seconds*milliseconds
 //         var diffDays = Math.round(Math.abs((startDate.getTime() - endDate.getTime())/(oneDay)) + 1);  // "+1" is to include Day zero of production
 //         if (diffDays > 0) {
 //           document.getElementById("diffDays").innerHTML = diffDays;
 //         } else {
 //           document.getElementById("diffDays").innerHTML = 0;
 //         }
	   	}

	  </script>

    <script>
      //Calcuate working days in the content production phase
      function workingDaysBetweenDates() {
        var startDate = new Date (document.getElementById("startDateValue").value);
        var endDate = new Date (document.getElementById("endDateValue").value);

        // Calculate days between dates
        var millisecondsPerDay = 86400 * 1000; // Day in milliseconds
        startDate.setHours(0,0,0,1);  // Start just after midnight
        endDate.setHours(23,59,59,999);  // End just before midnight
        var diff = endDate - startDate;  // Milliseconds between datetime objects    
        var days = Math.ceil(diff / millisecondsPerDay);    

        // Subtract two weekend days for every week in between
        var weeks = Math.floor(days / 7);
        days = days - (weeks * 2);



        // Populate template with working days       
          if (days > 0) {
            document.getElementById("diffDays").innerHTML = days;
          } else {
            document.getElementById("diffDays").innerHTML = 0;
          }
    }     
        </script>

   </head>

   <body>
   <h2 class="calcHeading">How many writers do we need for our website project?</h2>

    <!-- REQUIRED TOTAL EFFORT FEATURE -->
   		<form id="totalEffort" onsubmit="return false;">
   			<h3>How many pages on your new site?</h3>
    			<input type="text" id="targetPagesValue" onchange="calculatorVariables();" /> pages<br />
            	<p>It can be hard to say, but start thinking about the scale of your content challenge so you don’t underestimate the effort and delay your project.</p>
            	<p><strong>Tip:</strong> 10 pages - A small business “brochure” site, 50 pages - A high-school web site, 100 pages - A national charity website, 500 pages - A corporate Intranet, 1000 pages - A university or council web site.</p>

            <h3>How much effort to write each page?</h3>
          	
    		<input type="text" id="effortPerPageHoursValue" onchange="calculatorVariables();"/> hours<br />
    			<p>How many hours do you think it will take for a writer to produce a typical page for your new site?</p>
        		<p><strong>Tip:</strong> 3 Hours - We're migrating pages from our existing site with minimal updates and edits. 8 Hours - We need to (re)write pages from scratch</p>


   		<button onclick="calculatorVariables();">Run Variables</button>

   		<p>Days required to write pages: <span id="totalEffortDays">0</span></p>

      <!-- PRODUCTION PERIOD FEATURE -->
      <h2>Production period</h2>
        <p>When do you expect to start and end the content production phase?</p>
        <form id="productionPeriod" onsubmit="return false;">
          Start date: <input type="date" id="startDateValue" onchange="workingDaysBetweenDates()"/><br />
          End date: <input type="date" id="endDateValue" onchange="workingDaysBetweenDates()"/><br />
        </form>
        <p><span id="diffDays">0</span> working days</p>

      <!-- WRITERS REQUIRED FEATURE -->

      <p><span id="requiredWriters">0</span> FULL TIME WRITER/S</p>
      <button onclick="requiredWriters()">Calculate required writers</button>
   </body>
</html>